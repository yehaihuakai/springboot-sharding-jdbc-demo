dataSources:
  sharding-jdbc_demo_0: !!com.alibaba.druid.pool.DruidDataSource
    driverClassName: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/sharding-jdbc_demo_0?characterEncoding=utf8
    username: root
    password:
  sharding-jdbc_demo_1: !!com.alibaba.druid.pool.DruidDataSource
    driverClassName: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/sharding-jdbc_demo_1?characterEncoding=utf8
    username: root
    password:

shardingRule:
  defaultDataSourceName: sharding-jdbc_demo_1
  tables:
    demo_user:
      actualDataNodes: sharding-jdbc_demo_${0..1}.demo_user_${0..1}
      databaseStrategy:
        inline:
          shardingColumn: age
          algorithmExpression: sharding-jdbc_demo_${age % 2}
      tableStrategy:
        inline:
          shardingColumn: userid
          algorithmExpression: demo_user_${userid % 2}
#    t_order_item:
#      actualDataNodes: ds_${0..1}.t_order_item_${0..1}
#      databaseStrategy:
#        inline:
#          shardingColumn: user_id
#          algorithmExpression: ds_${user_id % 2}
#      tableStrategy:
#        inline:
#          shardingColumn: order_id
#          algorithmExpression: t_order_item_${order_id % 2}